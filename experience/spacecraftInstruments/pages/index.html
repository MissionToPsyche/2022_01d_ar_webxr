<!DOCTYPE html>
<html>
<head>
	<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
	<script>
		const boxDefaults = {scale:{x:1, y:1, z:1}, rotation:"0 45 0", enlarged:false, animating:false};
		let boxes = [
			boxDefaults, boxDefaults
		];
		AFRAME.registerComponent('separate-event', {
			init: function () {
				var el = this.el; // spacecraft
				el.addEventListener('click', function () {
					if (el.hasAttribute('separate-event')) {
						// remove the event from spacecraft
						el.removeAttribute('separate-event');

						// stop spacecraft rotation
						el.setAttribute('animation', "property: rotation; to: 0 0 0; loop: false; dur: 0");
						// lower spacecraft opacity
						el.setAttribute('material', "opacity: 0.3; transparent: true");
						// shrink spacecraft
						el.setAttribute('scale', "1.5 1.5 1.5");
					}
				});
			}

		});
	</script>
</head>

<body>
	<a-scene>
		<!--spacecraft-->
		<a-box position="0 1 -7.5" scale="2 2 2" rotation="0 0 0" color="gray"
		animation="property: rotation; to: 0 90 0; easing: linear; loop: true; dur: 1000"
		material="src: ../../../src/img/spacecraft.png; color: #696969; roughness: 1; metalness: 0"
		separate-event></a-box>

		<a-camera><a-cursor></a-cursor></a-camera>
	</a-scene>
</body>

</html>
<!DOCTYPE html>
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<title>Psyche Formation Experience</title>
		<!-- include a-frame-->
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    	<!-- we import arjs version without NFT but with marker + location based support -->
    	<!-- <script src="https://raw.githack.com/AR-js-org/AR.js/dev/aframe/build/aframe-ar.js"></script> -->
		<!-- Aframe timeline scripts -->
		<script src="https://unpkg.com/aframe-animation-component@^4.1.1/dist/aframe-animation-timeline-component.min.js"></script> 
  		<script src="https://unpkg.com/aframe-animation-timeline-component@1.6.0/dist/aframe-animation-timeline-component.min.js"></script> 
	</head>

	<body >
		<!-- Beginning of A-Scene -->
		<a-scene animation-timeline__1="timeline: #myTimeline; loop:true">

			<!-- Assets to use later -->
			<a-assets timeout="10000">
				<a-timeline id="myTimeline">
					<a-timeline-animation select="#welcomeText" name="togglevisible"></a-timeline-animation>
					<a-timeline-animation select="#welcomeText" name="fadein"></a-timeline-animation>
					<a-timeline-animation select="#welcomeText" name="fadeout"></a-timeline-animation>
					<a-timeline-animation select="#welcomeText" name="togglevisibleoff"></a-timeline-animation>  
				</a-timeline>

                <a-asset-item
                    id="asteroid-model"
                    src="../../models/gltf/otherAsteroid/scene.gltf">
                </a-asset-item>
                <a-asset-item
                    id="planetesimal-model"
                    src="../../models/gltf/planetesimal/scene.gltf">
                </a-asset-item>
				<a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>
				<audio id="impact" src="./sounds/impact.mp3" preload="auto"></audio>
				<audio id="explosion" src="./sounds/explosion.mp3" preload="auto"></audio>
				<img id="skyTexture"
      				src="./images/stars background.jpg">

				<a-mixin id="box"
					geometry="primitive: box"
					material="color: #AAA; opacity: 0"
					animation__fadein="property: material.opacity; dur: 2000; from: 0; to: 1; autoplay: false"
					animation__scale="property: scale; to: 2 20 2; dur: 2000; easing: easeInOutElastic; autoplay: false"
					animation__position="property: position; to: 0 30 -3; dur: 2000; autoplay: false"
					animation__color="property: material.color; from: #AAA; to: #222; dur: 2500; autoplay: false"
					animation__rotate="property: rotation; to: 0 360; dur: 1000; easing: easeInQuad; autoplay: false"
					scale="0.0001 0.0001 0.0001"
				></a-mixin>

				<a-mixin id="text"
					text="align: center; color: #FFF; width: 6; opacity: 0"
					animation__fadein="property: text.opacity; from: 0; to: 1; dur: 3000; easing: linear; autoplay: false"
					animation__fadeout="property: text.opacity; from: 1; to: 0; dur: 3000; easing: linear; autoplay: false"
					animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
					animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; autoplay: false"
					position="0 2 -3"
					visible="false"
				></a-mixin>
			</a-assets>

			<!--Marker -->
			<!--<a-marker preset="hiro">  -->
				<a-sky src="#skyTexture"></a-sky>

                <!-- Intro Text -->
				<a-entity id="welcomeText"
					mixin="text"
					text="value: Is this real life?"
                    position="0 0.3 0"
                    rotation="-90 0 0">
				</a-entity>


				<a-box 
					id="welcomeText"
                    color="#666666" 
                    depth="1" 
                    height="0.25" 
                    width="3"
                    position="0 0 3"
                    rotation="90 0 0"
                    opacity="0"
                    animation__fade-in="property: opacity; from:0 to: 1; startEvents: null"
                    animation__fade-out="property: opacity; from:1; to: 0; startEvents: null">
                    <a-text
                        value="How was Psyche Formed"
                        color="white"
                        align="center"
                        position="0 0.3 0"
                        rotation="-90 0 0"
                        material="color: blue"
                        opacity="0"
                        animation__fade-in="property: opacity; from:0 to: 1; startEvents: null"
                        animation__fade-out="property: opacity; from:1; to: 0; startEvents: null">
                    </a-text>
                </a-box>

                <!-- Planetesimal -->
				<a-gltf-model
					id="Planetesimal" 
					src="#planetesimal-model"
					position="0 0 0"
					rotation="0 -90 0"
					animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 50000"
					scale="0.005 0.005 0.005">
				</a-gltf-model>

				<!-- Other Asteroid -->
				<a-gltf-model 
					id="Asteroid" 
					src="#asteroid-model"
					position="10 0 -1"
					rotation="0 0 0"
					animation__move_towards_planetesimal="property: position; to: 3 0 -1; easing:linear; loop: 1; dur: 5000; delay:10000"
					animation__bounce_off="property: position; from: 3 0 -1; to: -3 0 -21; easing:linear; loop: 1; delay:15000; dur: 10000"
					animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000"  
					scale="0.01 0.01 0.01">
				</a-gltf-model>

				<!-- Debris 1-->
				<a-gltf-model 
					id="Debris1" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 2-->
				<a-gltf-model 
					id="Debris2" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 3-->
				<a-gltf-model 
					id="Debris3" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 4-->
				<a-gltf-model 
					id="Debris4" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 5-->
				<a-gltf-model 
					id="Debris5" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 6-->
				<a-gltf-model 
					id="Debris6" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 7-->
				<a-gltf-model 
					id="Debris7" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 8-->
				<a-gltf-model 
					id="Debris8" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 9-->
				<a-gltf-model 
					id="Debris9" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 10-->
				<a-gltf-model 
					id="Debris10" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 11-->
				<a-gltf-model 
					id="Debris1" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 12-->
				<a-gltf-model 
					id="Debris12" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>
			<!-- </a-marker> -->		  

			<a-light type="ambient" color="#fff"></a-light>
			<a-light type="directional" color="#fff" intensity="0.3" position="-0.5 1 1"></a-light>

			<a-camera position="0 0 20"><a-cursor></a-cursor></a-camera>
		</a-scene>
	</body>
</html>
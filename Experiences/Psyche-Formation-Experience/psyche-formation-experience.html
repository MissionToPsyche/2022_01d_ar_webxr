<!DOCTYPE html>
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<title>Psyche Formation Experience</title>
	</head>

	<body style='margin : 0px; overflow: hidden; font-family: Monospace;'>
		<!-- include a-frame-->
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    	<!-- we import arjs version without NFT but with marker + location based support -->
    	<script src="https://raw.githack.com/AR-js-org/AR.js/dev/aframe/build/aframe-ar.js"></script>
		
		<script>
			AFRAME.registerComponent('playExplosionSounds', {
				schema: {
					autoplay: {default: 'false'}
			  	},
		  
			 	init: function () {
					var data = this.data;
					var el = this.el;  					
					el.setAttribute('autoplay', true);
			  	}
			});
		</script>
		
		<!-- Beginning of A-Scene -->
		<a-scene>
        
			<!-- Assets to use later -->
			<a-assets>
                <a-asset-item
                    id="asteroid-model"
                    src="../../models/gltf/otherAsteroid/scene.gltf">
                </a-asset-item>
                <a-asset-item
                    id="planetesimal-model"
                    src="../../models/gltf/planetesimal/scene.gltf">
                </a-asset-item>
				<a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>
				<audio id="impact" src="./sounds/impact.mp3" preload="auto"></audio>
				<a-sound src="src: url(./sounds/explosion.mp3)" autoplay="true" position="0 2 5"></a-sound>
			</a-assets>

			<!--Marker -->
			<a-marker preset="hiro"> 
                <!-- Intro Text -->
				<a-box 
					playExplosionSound
                    color="#666666" 
                    depth="1" 
                    height="0.25" 
                    width="3"
                    position="0 3 0"
                    rotation="0 0 0"
                    opacity="0"
                    animation="property: opacity; to: 1; loop: 1; dur:5000"
                    animation__fade_out="property: opacity; from:1; to: 0; loop: 1; delay:5000; dur:5000">
                    <a-text
                        value="How was Psyche Formed"
                        color="white"
                        align="center"
                        position="0 0.3 0"
                        rotation="-90 0 0"
                        material="color: blue"
                        opacity="0"
                        animation__fade_in="property: opacity; to: 1; loop: 1; dur:5000"
                        animation__fade_out="property: opacity; from:1; to: 0; loop: 1; delay:5000; dur:5000">
                    </a-text>
                </a-box>

                <!-- Planetesimal -->
				<a-gltf-model
					id="Planetesimal" 
					src="#planetesimal-model"
					position="0 0 0"
					rotation="-90 0 0"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"
					scale="0.005 0.005 0.005">
				</a-gltf-model>

				<!-- Other Asteroid -->
				<a-gltf-model 
					id="Asteroid" 
					src="#asteroid-model"
					position="10 0 -1"
					rotation="0 0 0"
					animation__move_towards_planetesimal="property: position; to: 3 0 -1; easing:linear; loop: 1; dur: 5000; delay:10000"
					animation__bounce_off="property: position; from: 3 0 -1; to: -3 0 -21; easing:linear; loop: 1; delay:15000; dur: 10000"
					animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000"  
					scale="0.01 0.01 0.01">
				</a-gltf-model>

				<!-- Debris 1-->
				<a-gltf-model 
					id="Debris1" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 2-->
				<a-gltf-model 
					id="Debris2" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 3-->
				<a-gltf-model 
					id="Debris3" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 4-->
				<a-gltf-model 
					id="Debris4" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -10 -21; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 5-->
				<a-gltf-model 
					id="Debris5" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 6-->
				<a-gltf-model 
					id="Debris6" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 7-->
				<a-gltf-model 
					id="Debris7" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 8-->
				<a-gltf-model 
					id="Debris8" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -21 -10; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 9-->
				<a-gltf-model 
					id="Debris9" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 10-->
				<a-gltf-model 
					id="Debris10" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: 3 -31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 11-->
				<a-gltf-model 
					id="Debris1" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>

				<!-- Debris 12-->
				<a-gltf-model 
					id="Debris12" 
					src="#asteroid-model"
					position="1.85 0 -1"
					rotation="0 0 0"
					animation__move="property: position; to: -3 -31 0; easing:linear; loop: 1; dur: 10000; delay:15000"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"  
					scale="0.001 0.001 0.001">
				</a-gltf-model>
			</a-marker>		  

			<a-light type="ambient" color="#fff"></a-light>
			<a-light type="directional" color="#fff" intensity="0.3" position="-0.5 1 1"></a-light>

			<a-camera><a-cursor></a-cursor></a-camera>
		</a-scene>
	</body>
</html>
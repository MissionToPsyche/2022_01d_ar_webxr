<html>
	<head>
		<title>Psyche Instruments</title>
    	<link rel="stylesheet" href="../style.css">
		<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
		<!-- <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script> -->
		<script src="https://unpkg.com/aframe-star-system-component@1.0.0/index.js"></script>

		<!-- A-timeline scripts -->
		<script src="https://unpkg.com/aframe-animation-component@^4.1.1/dist/aframe-animation-timeline-component.min.js"></script> 
		<script src="https://unpkg.com/aframe-animation-timeline-component@1.6.0/dist/aframe-animation-timeline-component.min.js"></script>

        <!-- <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script> -->

	</head>

	<body>
		<div class="mainDiv">
			<div class="main-container">
				<!-- Back button -->
				<a id="backButton" onclick="click_back()">
					<img src="../img/back_button.png" alt="">
				</a>

				<!-- Instrument description text -->
				<div class="instrumentDescription">
					<p id="multiDescription">
						- Provides high-resolution images using filters to discriminate between metallic and silicate constituents of the Psyche asteroid.
						- Pair of identical cameras to acquire geologic, compositional, and topographic data.
					</p>
					<p id="magnetDescription">
						- Detects and measures the remnant magnetic field of the asteroid.
						- Two identical high-sensitivity magnetic field sensors located at the middle and outer end of a 6-foot boom.
					</p>
					<p id="gammaDescription">
						- Will detect, measure, and map Psyche's elemental composition.
						- Mounted on a 6-foot boom to distance the sensor from background radiation created by energetic particles interacting with the spacecraft and to provide an unobstructed field of view.

					</p>
					<p id="xbandDescription">
						- Measures Psyche's gravity field to high precision.
						- Combined with topography derived from onboard imagery, this will provide information on the interior structure of Psyche.
					</p>
					<p id="solarDescription">
						Along with the body, they total about the size of a singles tennis court.
					</p>
				</div>
				<!-- Tap screen instruction text -->
			</div>
		</div>

		<a-scene embedded class="aFrameContainer">
			
			<!-- Camera -->
			<a-camera>
				<!-- Screen-space entities -->
				
				<!-- Spacecraft -->
				<a-entity class="spacecraft" id="spacecraft" gltf-model="url(/models/PsycheSpacecraft.gltf)"
				position="0 -1 -5" rotation="0 90 0" scale="0.01 0.01 0.01" spacecraft-select></a-entity>

				<!-- Instruments -->
				<!-- Multispectral imager -->
				<a-entity class="instrument" id="multi" gltf-model="#multigltf"
				position="-2 2 -5" rotation="0 0 0" scale="0.2 0.2 0.2" component-select></a-entity>

				<!-- Gamma ray and neutron spectrometer -->
				<a-entity class="instrument" id="gamma" gltf-model="#gammagltf"
				position="-2 1 -5" rotation="0 0 0" scale="0.2 0.2 0.2" component-select></a-entity>

				<!-- Magnetometer -->
				<a-entity class="instrument" id="magnet" gltf-model="#magnetgltf"
				position="-2 0 -5" rotation="0 0 0" scale="0.2 0.2 0.2" component-select></a-entity>

				<!-- X-band radio telecom system -->
				<a-box class="instrument" id="xband"
				position="-2 -1 -5" rotation="0 0 0" scale="0.2 0.2 0.2" component-select></a-box>

				<!-- Solar panels -->
				<a-box box class="instrument" id="solar"
				position="-2 -2 -5" rotation="0 0 0" scale="0.2 0.2 0.2" component-select></a-box>

				<!-- Instrument list text -->
				<a-text class="instrumentText" id="multiText" value="Multispectral Imager"
				position="-1 2 -4.5"></a-text>
				<a-text class="instrumentText" id="gammaText" value="Gamma Ray and\nNeutron Spectrometer"
				position="-1 1 -4.5"></a-text>
				<a-text class="instrumentText" id="magnetText" value="Magnetometer"
				position="-1 0 -4.5"></a-text>
				<a-text class="instrumentText" id="xbandText" value="X-band Radio\nTelecom System"
				position="-1 -1 -4.5"></a-text>
				<a-text class="instrumentText" id="solarText" value="Solar Panels"
				position="-1 -2 -4.5"></a-text>

				<!-- Instrument description text -->
				<a-text class="descriptionText" id="descriptionText" value="Description text Description text\nDescription text Description text\nDescription text Description text\nDescription text Description text\nDescription text Description text\nDescription text Description text\nDescription text Description text\nDescription text Description text"
				position="-1.5 -1.5 -4.5"></a-text>

				<!-- Backlighting -->
				<!-- Must be last of entities within camera -->
				<a-entity light="color: #FFFFFF; intensity: 0.3" position="0 0 10" type="probe" target="#psyche"></a-entity>

			</a-camera>
			
			<!-- Psyche asteroid -->
				<a-entity id="asteroid"
				gltf-model="#asteroidgltf" 
				position="-7 2 -10"
				color="#FFFFFF" 
				scale="0.15 0.15 0.15"
				animation="property: rotation; to: 0 360 0; dur: 250000; easing: linear; loop: true" 
				roughness="0.7"
				play-all-model-animations modify-materials>
			</a-entity>

			<!-- Light-->
			<a-entity light="color: #FFFFFF; intensity: 1" position="5 0 -5" type="probe" target="#psyche"/>


			<!-- ToDo: Opening timeline -->
			<a-timeline id="opening">
				<!-- ToDo:
				Asteroid visible
				Spacecraft visible
				Tap instructions text visible
				Logo visible or otherwise in the main-container
				-->
			</a-timeline>

			<!-- ToDo: Spacecraft timeline -->
			<a-timeline id="spacecraft">
				<!-- ToDo:
				Mission text visible
				Outlines of instruments visible
				Old tap instructions NOT visible
				New tap instructions visible
				-->
			</a-timeline>

			<!-- ToDo: Spacecraft timeline -->
			<a-timeline id="selection">
				<!-- ToDo:
				Instrument outlines move to list positions

				Gamma instrument moves to list position and visible
				Gamma name text moves to list position and visible
				Magnet instrument moves to list position and visible
				Magnet name text moves to list position and visible
				Multi instrument moves to list position and visible
				Multi name text moves to list position and visible
				Solar panel moves to list position and visible
				Solar panel name text moves to list position and visible
				Xband instrument moves to list position and visible
				Xband name text moves to list position and visible
				
				Tap icon moves to bottom instrument position
				Completion badges scale to visible size
				-->
			</a-timeline>

		</a-scene>

		<script src="instruments.js"></script>
	</body>
</html>
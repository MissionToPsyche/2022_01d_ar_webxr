<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
        <title>Psyche</title>
        <script src="https://raw.githack.com/AR-js-org/AR.js/dev/aframe/build/aframe-ar.js"></script>
    </head>
    <body>  
      <script src="adventure.js"></script>
          <a-scene>
            <!-- Main scene setup elements -->
            <a-camera wasd-controls-enabled="false">
              <a-cursor
                  material="color:white"
              ></a-cursor>
              <a-entity
                id="main-tasks"
                geometry="primitive:plane;"
                material="color:white;"
                scale="2.5 1.8"
                position="-4 3 -10">
                <a-text
                  value="Mission Tasks"
                  color="black"
                  width="3"
                  height="2"
                  position="-0.5 0.35 0.1"
                ></a-text>
                <a-text
                  id="task1"
                  value="Scale the Moon"
                  color="red"
                  width="2.5"
                  height="1"
                  position="-0.5 0.1 0.1"
                ></a-text>
                <a-text
                  id="task2"
                  value="Shape Psyche"
                  color="red"
                  width="2.5"
                  height="1"
                  position="-0.5 -0.05 0.1"
                ></a-text>
                <a-text
                  id="task3"
                  value="Find Psyche in orbit"
                  color="red"
                  width="2.5"
                  height="1"
                  position="-0.5 -0.20 0.1"
                ></a-text>
                <a-text
                  id="task4"
                  value="Weigh Psyche"
                  color="red"
                  width="2.5"
                  height="1"
                  position="-0.5 -0.35 0.1"
                ></a-text>
                <a-entity
                  id="task-crossed"
                  line="start: -0.46 0.07 0.2; end: 0.54 0.07 0.2; color: red; visible:false"
                  line__2="start: -0.46 -0.08 0.2; end: 0.54 -0.08 0.2; color: red; visible:false"
                  line__3="start: -0.46 -0.22 0.2; end: 0.54 -0.22 0.2; color: red; visible:false"
                  line__4="start: -0.46 -0.36 0.2; end: 0.54 -0.36 0.2; color: red; visible:false">
                </a-entity>
              </a-entity>
              <a-light type="directional" color="#FFF" intensity="1.5" position="0 0 10"></a-light>
            </a-camera>
            
            <a-sky id="background" src="../../src/img/space.jpg"></a-sky>
            
            <!-- Title text -->
            <a-text 
                id="title"
                color="#03cffc" 
                position="0 3 -10" 
                value="Complete The Mission" 
                z-offset="0.15" 
                height="10" 
                width="10" 
                align="center" 
            ></a-text>
            
            <!-- Size Adventure -->
            <a-text 
                id="size-button-text"
                color="black" 
                position="-3 -1 -10" 
                value="Size" 
                z-offset="0.15" 
                height="5" 
                width="5" 
                align="center"
                >
                <a-entity 
                  event-set__enter="_event: mouseenter; material.color:#03cffc; geometry.height:0.7; geometry.width:2.2"
                  event-set__leave="_event: mouseleave; material.color:grey; geometry.height:0.4; geometry.width:1.5" 
                  id="size-button" 
                  visible="true" 
                  geometry="primitive: plane; width:1.5; height:.4; depth:.01"
                  material="color:grey"
                  position="0 0 0" 
                  link="href:psyche-size.html">
                </a-entity>
              </a-text>
                
            <!-- Orbit View -->
            <a-text 
                id="orbit-button-text"
                color="black" 
                position="0 -1 -10" 
                value="Orbit View" 
                z-offset="0.15" 
                height="5" 
                width="5" 
                align="center">
                <a-entity 
                  event-set__enter="_event: mouseenter; material.color:#03cffc; geometry.height:0.7; geometry.width:2.2"
                  event-set__leave="_event: mouseleave; material.color:grey; geometry.height:0.4; geometry.width:1.5"
                  id="orbit-button" 
                  visible="true" 
                  geometry="primitive: box; width:1.5; height:.4; depth:.01" 
                  material="color:grey"
                  position="0 0 0" 
                  link="href:psyche-orbit.html">
                </a-entity>
            </a-text>
            
            <!-- Weight Adventure -->
            <a-text 
              id="weight-button-text"
              color="black" 
              position="3 -1 -10" 
              value="Weight" 
              z-offset="0.15" 
              height="5" 
              width="5" 
              align="center">
              <a-entity 
                event-set__enter="_event: mouseenter; material.color:#03cffc; geometry.height:0.7; geometry.width:2.2"
                event-set__leave="_event: mouseleave; material.color:grey; geometry.height:0.4; geometry.width:1.5"
                id="location-button" 
                visible="true" 
                geometry="primitive: box; width:1.5; height:.4; depth:.01" 
                material="color:grey"
                position="0 0 0" 
                link="href:psyche-weight.html">
              </a-entity>
            </a-text>
               
            <!-- Aircraft Model -->
            <a-image 
              id="spacecraft" 
              position="10 0.75 -10" 
              src="../../src/img/spacecraft.png"
              animation = "property: position; to: 2.5 0.75 -15; loop: false; dur: 5000; easing: linear"
            ></a-image>
            
            <!-- Psyche Model -->
            <a-image
              id="asteroid"
              height="3"
              width="3"
              src="../../src/img/psyche-asteroid.png"
              position="0 1 -10"
              animation="property: rotation; to: 0 0 360; loop: true; dur: 7500; easing: linear"
            ></a-image>
          </a-scene> 
          <a-line>

          </a-line>
          
          <script type="text/javascript">
            if(sessionStorage.getItem('task1') === "true"){
              document.getElementById('task1').setAttribute('color','green');
              document.getElementById('task-crossed').setAttribute('line','{start: -0.46 0.07 0.2; end: 0.54 0.07 0.2; color: grey; visible:true}');
            }
            if(sessionStorage.getItem('task2') === "true"){
              document.getElementById('task2').setAttribute('color','green');
              document.getElementById('task-crossed').setAttribute('line__2','{start: -0.46 -0.08 0.2; end: 0.54 -0.08 0.2; color: grey; visible:true}');
            }
            if(sessionStorage.getItem('task3') === "true"){
              document.getElementById('task3').setAttribute('color','green');
              document.getElementById('task-crossed').setAttribute('line__3','{start: -0.46 -0.22 0.2; end: 0.54 -0.22 0.2; color: grey; visible:true}');
            }
            if(sessionStorage.getItem('task4') === "true"){
              document.getElementById('task4').setAttribute('color','green');
              document.getElementById('task-crossed').setAttribute('line__4','{start: -0.46 -0.36 0.2; end: 0.54 -0.36 0.2; color: grey; visible:true}');
            }
          </script>
    </body>
</html>
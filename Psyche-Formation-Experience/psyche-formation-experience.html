<!DOCTYPE html>
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<title>Psyche Formation Experience</title>
	</head>

	<body style='margin : 0px; overflow: hidden; font-family: Monospace;'>
		<!-- include a-frame-->
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    	<!-- we import arjs version without NFT but with marker + location based support -->
    	<script src="https://raw.githack.com/AR-js-org/AR.js/dev/aframe/build/aframe-ar.js"></script>
		<script src="js/aframe-environment-component.js"></script>
		<script src="js/aframe-spe-particles-component.js"></script>
		<script src="js/extended-wasd-controls.js"></script>
		
		<!-- Beginning of A-Scene -->
		<a-scene environment="preset: starry; fog: 0;" keyboard-shortcuts="enterVR: false;" >
        
			<!-- Assets to use later -->
			<a-assets>
                <a-asset-item
                    id="asteroid-model"
                    src="/models/gltf/otherAsteroid/scene.gltf">
                </a-asset-item>
                <a-asset-item
                    id="planetesimal-model"
                    src="/models/gltf/planetesimal/scene.gltf">
                </a-asset-item>
				<a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>
			</a-assets>

			<!--Marker -->
			<a-marker preset="hiro">
 
                <!-- Intro Text -->
				<a-box 
                    color="#666666" 
                    depth="1" 
                    height="0.25" 
                    width="3"
                    position="0 3 0"
                    rotation="0 0 0"
                    opacity="0"
                    animation="property: opacity; to: 1; loop: 1; dur:5000"
                    animation__fade_out="property: opacity; from:1; to: 0; loop: 1; delay:5000; dur:5000">
                    <a-text
                        value="How was Psyche Formed"
                        color="white"
                        align="center"
                        position="0 0.3 0"
                        rotation="-90 0 0"
                        material="color: blue"
                        opacity="0"
                        animation__fade_in="property: opacity; to: 1; loop: 1; dur:5000"
                        animation__fade_out="property: opacity; from:1; to: 0; loop: 1; delay:5000; dur:5000">
                    </a-text>
                </a-box>

                <!-- Planetesimal -->
				<a-gltf-model 
					id="Planetesimal" 
					src="#planetesimal-model"
					position="0 0 0"
					rotation="-90 0 0"
					animation__rotate="property: rotation; to: 360 0 0; loop: true; dur: 50000"
					scale="0.005 0.005 0.005">
				</a-gltf-model>

				<!-- Other Asteroid -->
				<a-gltf-model 
					id="Asteroid" 
					src="#asteroid-model"
					position="10 0 -1"
					rotation="0 0 0"
					animation__move_towards_planetesimal="property: position; to: 3 0 -1; easing:linear; loop: 1; dur: 5000; delay:10000"
					animation__bounce_off="property: position; from: 3 0 -1; to: -3 0 -21; easing:linear; loop: 1; delay:15000; dur: 10000"
					animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000"  
					scale="0.01 0.01 0.01">
				</a-gltf-model>


			</a-marker>

			    <!-- star fountain -->
				<a-entity position="0 2 -4"
				spe-particles="
				texture: images/particles/particle-smoke.png;
				color: #999999;
				distribution: BOX;
				opacity: 1,1,1,0;
				velocity: 0 0.5 0;
				velocity-spread: 1.2 0 0.2; 
				blending: normal;
				particle-count: 200;
				angle: 0, 6.28;
				textureFrameLoop:1;
				maxAge: 3; ">
			  </a-entity> 
		  

			<a-light type="ambient" color="#fff"></a-light>
			<a-light type="directional" color="#fff" intensity="0.3" position="-0.5 1 1"></a-light>

			<a-camera><a-cursor></a-cursor></a-camera>
		</a-scene>
	</body>
</html>